<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Conversor de Mídia - Texto para Áudio</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 0 auto;
            padding: 20px;
            line-height: 1.6;
        }
        textarea {
            width: 100%;
            min-height: 150px;
            margin-bottom: 10px;
        }
        button {
            padding: 10px;
            background-color: #4CAF50;
            color: white;
            border: none;
            cursor: pointer;
        }
        #audio-player {
            margin-top: 10px;
            width: 100%;
        }
    </style>
</head>
<body>
    <h1>Conversor de Texto para Áudio</h1>
    
    <textarea id="texto-input" placeholder="Digite o texto que deseja converter para áudio"></textarea>
    
    <div>
        <button onclick="converterTextoParaAudio()">Converter para Áudio</button>
    </div>
    
    <audio id="audio-player" controls style="display:none;"></audio>

    <script>
        async function converterTextoParaAudio() {
            const texto = document.getElementById('texto-input').value.trim();
            const audioPlayer = document.getElementById('audio-player');
            
            if (!texto) {
                alert('Por favor, digite um texto para converter.');
                return;
            }

            try {
                // Codifica o texto para URL para evitar problemas com caracteres especiais
                const textoEncoded = encodeURIComponent(texto);
                
                // URL da API do gTTS
                const gttsUrl = `https://translate.google.com/translate_tts?ie=UTF-8&client=tw-ob&tl=pt-BR&q=${textoEncoded}`;
                
                // Define a fonte do áudio
                audioPlayer.src = gttsUrl;
                
                // Mostra o player de áudio
                audioPlayer.style.display = 'block';
                
                // Tenta reproduzir o áudio
                try {
                    await audioPlayer.play();
                } catch (playError) {
                    console.error('Erro ao reproduzir áudio:', playError);
                    alert('Não foi possível reproduzir o áudio automaticamente. Clique no botão de play.');
                }
            } catch (error) {
                console.error('Erro na conversão de texto para áudio:', error);
                alert('Ocorreu um erro ao converter o texto para áudio.');
            }
        }
    </script>
</body>
</html>
